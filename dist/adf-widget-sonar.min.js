!function(e,t){"use strict";function o(e){var t=this;t.version=e}function r(e){var t=this;"Please Setup the Widget"!=e&&(t.project=e.project.split(":")[1],t.url=e.url,angular.forEach(e.quality_index,function(e){"coverage"===e.metric?t.coverage=e.value:"blocker_violations"===e.metric?t.blocker=e.value:"alert_status"===e.metric?t.qualityGateStatus=e.value:"sqale_index"===e.metric?t.technicalDept=e.value:"vulnerabilities"===e.metric&&(t.vulnerabilities=e.value)}))}function n(e,t){var o=this;if(0!=e.length){angular.forEach(e,function(e){e.subProject&&(e.subProject=e.subProject.slice(e.component.search(":")+1).replace(":"," ")),e.project&&(e.project=e.project.slice(e.component.search(":")+1).replace(":"," ")),e.component&&(e.component=e.component.slice(e.component.lastIndexOf(":")+1)),e.type&&(e.type=e.type.replace("_"," "));for(var t=0;t<e.tags.length;t++)0==t?e.tag=e.tags[t]:e.tag=e.tag+", "+e.tags[t]}),o.projects=new Array,o.projects[0]=new Object;for(var r=0,n=1,a=0;a<e.length;a++)"CLOSED"!==e[a].status&&(o.projects[r].project?e[a].project===o.projects[r].project&&e[a].subProject===o.projects[r].subProject&&e[a].component===o.projects[r].component?(o.projects[r].projectIssue[n]=e[a],n+=1):(r+=1,n=1,o.projects[r]=new Object,o.projects[r].project=e[a].project,o.projects[r].subProject=e[a].subProject,o.projects[r].component=e[a].component,o.projects[r].projectIssue=new Array,o.projects[r].projectIssue[0]=e[a]):(o.projects[r]=new Object,o.projects[r].project=e[a].project,o.projects[r].subProject=e[a].subProject,o.projects[r].component=e[a].component,o.projects[r].projectIssue=new Array,o.projects[r].projectIssue[0]=e[a]))}o.sorting=function(e){return"sortBySeverity"==t.sorting?o.sortBySeverity(e):o.sortByEffort(e)},o.sortBySeverity=function(e){for(var t=0,o=0;o<e.projectIssue.length;o++)"BLOCKER"===e.projectIssue[o].severity?t=4:"CRITICAL"===e.projectIssue[o].severity&&t<3?t=3:"MAJOR"===e.projectIssue[o].severity&&t<2?t=2:"MINOR"===e.projectIssue[o].severity&&t<1&&(t=1);return-t},o.sortByEffort=function(e){for(var t=0,o=0;o<e.projectIssue.length;o++)e.projectIssue[o].effort&&t<parseInt(e.projectIssue[o].effort.slice(0,e.projectIssue[o].effort.search("m")))&&(t=parseInt(e.projectIssue[o].effort.slice(0,e.projectIssue[o].effort.search("m"))));return-t}}function a(e,t){var o=this;t.max=e.maxDays,t.current=e.daysLeft,o.result=e,o.progressProperties=t}function s(e){var t=this;if("Please Setup the Widget"!=e){t.projectLeft=e.projectLeft.split(":")[1],t.projectRight=e.projectRight.split(":")[1];var o=e.resp.projectLeft.data.component.measures,r=e.resp.projectRight.data.component.measures,n=[];angular.forEach(o,function(e){angular.forEach(r,function(t){t.metric===e.metric&&n.push({metricName:e.metric,projectValLeft:e.value,projectValRight:t.value})})}),t.compareTable=n}}function i(e,t,o,r){var n=this;e.updateProjects=function(){var t;t=e.config.apiUrl?e.config.apiUrl:r.url,n.projects=[],o.getProjects(t).then(function(e){e.forEach(function(e){var t={name:e.k};n.projects.push(t)})})},e.updateProjects()}function l(e,t){function o(){for(var o={legend:{display:!0,position:"bottom"},responsive:!0},r={labels:[],data:[],series:[],"class":"chart-line",options:o},n=0;n<e.length;n++)r.series.push(t[e[n].metric]),r.data.push(e[n].values);return r.labels=e[0].dates,r}var r=this;"Please Setup the Widget"!=e&&(r.chart=o())}function i(e,t,o){function r(t){var o=t.date,r=t.mode;if("day"===r)for(var n=new Date(o).setHours(0,0,0,0),a=0;a<e.events.length;a++){var s=new Date(e.events[a].date).setHours(0,0,0,0);if(n===s)return e.events[a].status}return""}var n=this;e.config.timespan||(e.config.timespan={}),n.url=o.url,e.config.timespan.fromDateTime&&(e.config.timespan.fromDateTime=new Date(e.config.timespan.fromDateTime),e.config.timespan.toDateTime=new Date(e.config.timespan.toDateTime)),e.updateProjects=function(){var r;r=e.config.apiUrl?e.config.apiUrl:o.url,n.projects=[],t.getProjects(r).then(function(e){e.forEach(function(e){var t={name:e.k};n.projects.push(t)})})},e.updateProjects(),e.inlineOptions={customClass:r,minDate:new Date,showWeeks:!0},e.dateOptions||(e.dateOptions={formatYear:"yy",startingDay:1}),e.toggleMin=function(){e.inlineOptions.minDate=e.inlineOptions.minDate?null:new Date,e.dateOptions.minDate=e.inlineOptions.minDate},e.toggleMin(),e.open1=function(){e.popup1.opened=!0},e.open2=function(){e.popup2.opened=!0},e.formats=["yyyy-MM-dd","yyyy/MM/dd","dd.MM.yyyy","shortDate"],e.format=e.formats[0],e.altInputFormats=["M!/d!/yyyy"],e.popup1={opened:!1},e.popup2={opened:!1};var a=new Date;a.setDate(a.getDate()+1);var s=new Date(a);s.setDate(a.getDate()+1),e.events=[{date:a,status:"full"},{date:s,status:"partially"}]}function c(e){var t=this;e.support?t.data=e:t.support=e}function p(e,t,o){function r(e){a(o.url).then(function(t){return n(e,String(t))})}function n(e,t){var o=e.split("."),r=t.split(".");return!(o[0]<r[0])&&!(o[0]===r[0]&&o[1]<=r[1])}function a(t){var o=t+"/api/server/version";return e({method:"GET",url:o,headers:{Accept:"application/json"}}).then(function(e){return e.data})}function s(e){return e+"/api/projects/index?format=json"}function i(e){return e+"/api/resources?metrics=ncloc,coverage"}function l(e){return e+"/api/issues/search?assignees=__me__"}function c(e,t){return e+"/api/measures/component?componentKey="+t+"&metricKeys=open_issues,ncloc,public_documented_api_density,duplicated_lines_density,sqale_index"}function p(e,t){return e+"/api/measures/component?componentKey="+t+"&metricKeys=coverage,blocker_violations,alert_status,sqale_index,vulnerabilities"}function u(e,t){var o=new Date(e),r=new Date(t),n=new Date,a=d(o,r),s=d(n,r);return{maxDays:a,daysLeft:s}}function d(e,t){if(t<e)return 0;var o=864e5;e.setHours(0,0,0,1),t.setHours(23,59,59,999);var r=t-e,n=Math.ceil(r/o),a=Math.floor(n/7);n-=2*a;var s=e.getDay(),i=t.getDay();return s-i>1&&(n-=2),0===s&&6!=i&&(n-=1),6===i&&0!=s&&(n-=1),n}function m(e){var t="";return e.linesOfCode&&(t+="ncloc,"),e.technicalDebt&&(t+="sqale_index,"),e.amountTest&&(t+="tests,"),e.testCoverage&&(t+="coverage,"),e.issues&&(t+="open_issues,"),e.rulesviolations&&(t+="duplicated_lines_density,"),t.slice(0,-1)}function g(o,r,n){var a=c(o,r),s=c(o,n),i=e.get(a),l=e.get(s);return t.all([i,l]).then(function(e){var t=e[0],o=e[1],a={projectLeft:t,projectRight:o};return{resp:a,projectLeft:r,projectRight:n}})}function h(t,o,n,a){var s,i,l,c="6.2",p=[],u=m(n);if("dynamic"===a.type){var d=new Date;switch(a.dynamic){case"week":i=new Date(d.getTime()-6048e5);break;case"month":i=new Date(d.getFullYear(),d.getMonth()-1,d.getDay());break;case"year":i=new Date(d.getFullYear()-1,d.getMonth(),d.getDay())}l=d}else"static"===a.type&&(i=a.fromDateTime,l=a.toDateTime);return r(c)?(s=i&&l?t+"/api/timemachine?resource="+o+"&metrics="+u+"&fromDateTime="+i+"&toDateTime="+l:t+"/api/timemachine?resource="+o+"&metrics="+u,e({method:"GET",url:s,headers:{Accept:"application/json"}}).then(function(e){for(var t=e.data[0],o=t.cols,r=t.cells,n=0;n<o.length;n++){for(var a=[],s=[],i=0;i<r.length;i++)s[i]=r[i].d.split("T")[0],a[i]=r[i].v[n];var l={metric:o[n].metric,values:a,dates:s};p.push(l)}return p})):(i&&l?(i=i.toISOString().replace(/T.*/,"").split("-").join("-"),l=l.toISOString().replace(/T.*/,"").split("-").join("-"),s=t+"/api/measures/search_history?component="+o+"&metrics="+u+"&from="+i+"&to="+l):s=t+"/api/measures/search_history?component="+o+"&metrics="+u,e({method:"GET",url:s,headers:{Accept:"application/json"}}).then(function(e){return e.data.measures.forEach(function(e){var t=[],o=[];e.history.forEach(function(e){t.push(e.date.split("T")[0]),o.push(e.value)});var r={metric:e.metric,values:o,dates:t};p.push(r)}),p}))}function f(e){for(var t=0,o=0,r=0;r<e.length;r++){if(e[r].msr[0]){var n=e[r].msr[0].val;t+=n}if(e[r].msr[1]){var a=e[r].msr[1].val;o+=a}}return o/=e.length,{linesOfCode:t,coverage:o}}function v(t){var o=s(t);return e({method:"GET",url:o,headers:{Accept:"application/json"}}).then(function(e){return e.data})}function y(t){var o="6.2";if(r(o)){var n=i(t);return e({method:"GET",url:n,headers:{Accept:"application/json"}}).then(function(e){var t=e.data;return f(t)})}return{support:!1,message:"This widget is only compatible with sonar v"+o+" or lower."}}function j(t){var o=l(t);return e({method:"GET",url:o,headers:{Accept:"application/json"}}).then(function(e){return e.data.issues})}function b(t,r){var n=p(t,r);return e({method:"GET",url:n,headers:{Accept:"application/json"}}).then(function(e){return{project:r,quality_index:e.data.component.measures,url:o.url}})}return{getProjects:v,getAllProjectsStatistics:y,getChartData:h,getMetrics:g,getProjectTime:u,getAllMyIssues:j,getProjectquality:b,getServerVersion:a}}var u=angular.module("adf.widget.sonar",["adf.provider","chart.js","ui.bootstrap","ui.bootstrap.datepicker","angular-svg-round-progressbar"]).constant("sonarEndpoint",{url:"https://192.168.56.2/sonar"}).constant("METRIC_NAMES",{open_issues:"Open Issues",ncloc:"Lines of Code",public_documented_api_density:"Public documented API density",duplicated_lines_density:"Duplicated Lines (%)",sqale_index:"SQALE index",coverage:"Coverage (%)",tests:"Tests"}).config(["dashboardProvider",function(e){e.widget("sonar-all-projects-statistics",{title:"Sonar Statistics of all Projects ",description:"Displays all SonarQube statistics",templateUrl:"{widgetsPath}/sonar/src/allProjects/view.html",resolve:{data:["sonarApi","config","sonarEndpoint",function(e,t,o){return t.apiUrl?e.getAllProjectsStatistics(t.apiUrl):o.url?e.getAllProjectsStatistics(o.url):"Please Setup the Widget"}]},category:"SonarQube",controller:"sonarStatsCtrl",controllerAs:"vm",edit:{templateUrl:"{widgetsPath}/sonar/src/allProjects/edit.html"}}).widget("sonar-linechart",{title:"Sonar Linechart of a Project",description:"Displays a linechart with different metrics",templateUrl:"{widgetsPath}/sonar/src/chart/view.html",resolve:{data:["sonarApi","config","sonarEndpoint",function(e,t,o){var r;return r=t.apiUrl?t.apiUrl:o.url,r&&t.project&&t.metrics?e.getChartData(r,t.project,t.metrics,t.timespan):"Please Setup the Widget"}]},category:"SonarQube",controller:"sonarLineChart",controllerAs:"vm",edit:{templateUrl:"{widgetsPath}/sonar/src/chart/edit.html"}}).widget("sonar-compare",{title:"Sonar Project Compare",description:"Displays a table to compare two projects",templateUrl:"{widgetsPath}/sonar/src/compare/view.html",resolve:{data:["sonarApi","config","sonarEndpoint",function(e,t,o){return t.apiUrl?e.getMetrics(t.apiUrl,t.projectname1,t.projectname2):o.url&&t.projectname1&&t.projectname2?e.getMetrics(o.url,t.projectname1,t.projectname2):"Please Setup the Widget"}]},category:"SonarQube",controller:"compare",controllerAs:"vm",edit:{templateUrl:"{widgetsPath}/sonar/src/compare/edit.html"}}).widget("project-progress",{title:"Project Progress",description:"Visualizes the progress of a project",templateUrl:"{widgetsPath}/sonar/src/project-progress/view.html",resolve:{data:["sonarApi","config",function(e,t){return t.projectBeginn?e.getProjectTime(t.projectBeginn,t.projectEnd):"Please Setup the Widget"}]},controller:"progress",controllerAs:"vm",edit:{templateUrl:"{widgetsPath}/sonar/src/project-progress/edit.html"}}).widget("version",{title:"Sonar Server Version",description:"Displays the current sonar server version",templateUrl:"{widgetsPath}/sonar/src/version/view.html",resolve:{data:["sonarApi","sonarEndpoint",function(e,t){return e.getServerVersion(t.url)}]},category:"SonarQube",controller:"version",controllerAs:"vm"}).widget("sonar-my-issues",{title:"Sonar My Issues",description:"Displays all issues of yourself",templateUrl:"{widgetsPath}/sonar/src/issues/view.html",resolve:{data:["sonarApi","config","sonarEndpoint",function(e,t,o){return t.apiUrl?e.getAllMyIssues(t.apiUrl):o.url?e.getAllMyIssues(o.url):"Please Setup the Widget"}]},category:"SonarQube",controller:"sonarIssueCtrl",controllerAs:"vm",edit:{templateUrl:"{widgetsPath}/sonar/src/issues/edit.html"}}).widget("sonar-projectquality",{title:"Sonar Project Quality",description:"Displays metrics of a specific project",templateUrl:"{widgetsPath}/sonar/src/projectquality/view.html",resolve:{data:["sonarApi","config","sonarEndpoint",function(e,t,o){return t.apiUrl&&t.project?e.getProjectquality(t.apiUrl,t.project):o.url&&t.project?e.getProjectquality(o.url,t.project):"Please Setup the Widget"}]},category:"SonarQube",controller:"qualityCtrl",controllerAs:"vm",edit:{templateUrl:"{widgetsPath}/sonar/src/projectquality/edit.html"}})}]);angular.module("adf.widget.sonar").run(["$templateCache",function(e){e.put("{widgetsPath}/sonar/src/allProjects/edit.html",'<form role=form ng-controller="editController as vm"><div class=form-group><label ng-if=!vm.url for=sample>API-URL</label> <input ng-if=!vm.url type=text class=form-control id=sample ng-model=config.apiUrl placeholder=Sonar-URL></div></form>'),e.put("{widgetsPath}/sonar/src/allProjects/view.html",'<style type=text/css>\n\n  div.sonar-content, div.sonar-content h1, div.sonar-content h4 {\n    text-align: right;\n    color: white;\n  }\n\n  .coverage {\n    background-color: #fcc700;\n    border-radius: 8px;\n  }\n  .linesOfCode {\n    background-color: #1B7DAA;\n    margin-bottom: 2%;\n    border-radius: 8px;\n  }\n  .linesOfCodePencil {\n    float: left;\n    font-size: 3em;\n    margin-top: 25px;\n  }\n  .coverageTask {\n    float: left;\n    font-size: 3em;\n    margin-top: 25px;\n  }\n</style><div><div class="sonar-content col-md-12"><div ng-if=vm.data.linesOfCode class="col-md-12 linesOfCode"><span class="glyphicon glyphicon-pencil linesOfCodePencil"></span><h1>{{(vm.data.linesOfCode | number)||0}}</h1><h4>Lines of code</h4></div><div ng-if=vm.data.linesOfCode class="col-md-12 coverage"><span class="glyphicon glyphicon-tasks coverageTask"></span><h1>{{(vm.data.coverage | number:2)||0}}%</h1><h4>Average test coverage</h4></div></div><div class="alert alert-warning" ng-if=vm.support>{{vm.support.message}}</div></div>'),e.put("{widgetsPath}/sonar/src/chart/edit.html",'<style type=text/css></style><form role=form><div class=form-group ng-controller="editController as vm"><label ng-if=!vm.url for=sample>API-URL</label><p ng-if=!vm.url><input class=form-control id=sample ng-model=config.apiUrl placeholder=Sonar-URL type=text ng-change=updateProjects()></p><label for=sample>Project</label> (*Required)<p><input id=project name=project type=text class=form-control autocomplete=off placeholder="Choose project" ng-model=config.project required uib-typeahead="project.name for project in vm.projects | limitTo:10 | filter:$viewValue"></p><label for=sample>Timespan</label><p><label class=radio-inline><input name=timespan ng-model=config.timespan.type type=radio value=dynamic>Dynamic</label> <label class=radio-inline><input name=timespan ng-model=config.timespan.type type=radio value=static>Static</label> <label class=radio-inline><input name=timespan ng-model=config.timespan.type type=radio value=no>None</label></p><div ng-if="config.timespan.type==\'static\'"><p class=input-group><input class=form-control datepicker-options=dateOptions is-open=popup1.opened ng-model=config.timespan.fromDateTime placeholder=von show-button-bar=false type=text uib-datepicker-popup={{format}}> <span class=input-group-btn><button class="btn btn-default" ng-click=open1() type=button><i class="glyphicon glyphicon-calendar"></i></button></span></p><p class=input-group><input class=form-control datepicker-options=dateOptions is-open=popup2.opened ng-model=config.timespan.toDateTime placeholder=bis show-button-bar=false type=text uib-datepicker-popup={{format}}> <span class=input-group-btn><button class="btn btn-default" ng-click=open2() type=button><i class="glyphicon glyphicon-calendar"></i></button></span></p></div><p ng-if="config.timespan.type==\'dynamic\'"><label class=radio-inline><input name=timespan.dynamic ng-model=config.timespan.dynamic type=radio value=week>last week</label> <label class=radio-inline><input name=timespan.dynamic ng-model=config.timespan.dynamic type=radio value=month>last month</label> <label class=radio-inline><input name=timespan.dynamic ng-model=config.timespan.dynamic type=radio value=year>last year</label></p><label for=sample>Metric Selection</label><div class=checkbox><label><input ng-model=config.metrics.linesOfCode type=checkbox>Lines of Code</label></div><div class=checkbox><label><input ng-model=config.metrics.technicalDebt type=checkbox>Technical Debt</label></div><div class=checkbox><label><input ng-model=config.metrics.amountTest type=checkbox>Number Unit-Tests</label></div><div class=checkbox><label><input ng-model=config.metrics.testCoverage type=checkbox>Test Coverage</label></div><div class=checkbox><label><input ng-model=config.metrics.issues type=checkbox>Open Issues</label></div><div class=checkbox><label><input ng-model=config.metrics.rulesviolations type=checkbox>Duplicate Code (%)</label></div></div></form>'),e.put("{widgetsPath}/sonar/src/chart/view.html",'<div class="alert alert-info" ng-if=!vm.chart>Please configure the widget</div><div ng-if=vm.chart><canvas id=line class="chart chart-line" chart-data=vm.chart.data chart-labels=vm.chart.labels chart-series=vm.chart.series chart-options=vm.chart.options></canvas></div>'),e.put("{widgetsPath}/sonar/src/compare/edit.html",'<form role=form><div class=form-group ng-controller="editController as vm"><label ng-if=!vm.url for=url>API-URL</label> <input ng-if=!vm.url type=text class=form-control id=url ng-model=config.apiUrl placeholder=Sonar-URL ng-change=updateProjects()> <label for=project1>Choose Project 1</label> <input type=text class=form-control id=project1 ng-model=config.projectname1 ng-required=true placeholder="Project 1" uib-typeahead="project.name for project in vm.projects | limitTo:10 | filter:$viewValue"> <label for=project2>Choose Project 2</label> <input type=text class=form-control id=project2 ng-model=config.projectname2 ng-required=true placeholder="Project 2" uib-typeahead="project.name for project in vm.projects | limitTo:10 | filter:$viewValue"></div></form>'),e.put("{widgetsPath}/sonar/src/compare/view.html",'<div class="alert alert-info" ng-if=!vm.compareTable>Please configure the widget</div><div ng-if=vm.compareTable class="col-md-12 centerText"><table class=table><tr><th>Metric</th><th>{{vm.projectLeft}}</th><th>{{vm.projectRight}}</th></tr><tr ng-repeat="entry in vm.compareTable"><td>{{entry.metricName}}</td><td>{{entry.projectValLeft}}</td><td>{{entry.projectValRight}}</td></tr></table></div>'),e.put("{widgetsPath}/sonar/src/project-progress/edit.html",'<form role=form><div class=form-group ng-controller=editController><label for=sample>Project</label> <input type=text class=form-control id=sample ng-model=config.projectname ng-required=true placeholder="Project name"> <label for=sample>Project Timespan</label><p class=input-group><input class=form-control datepicker-options=dateOptions is-open=popup1.opened ng-model=config.projectBeginn placeholder=from show-button-bar=false type=text uib-datepicker-popup={{format}}> <span class=input-group-btn><button class="btn btn-default" ng-click=open1() type=button><i class="glyphicon glyphicon-calendar"></i></button></span></p><p class=input-group><input class=form-control datepicker-options=dateOptions is-open=popup2.opened ng-model=config.projectEnd placeholder=to show-button-bar=false type=text uib-datepicker-popup={{format}}> <span class=input-group-btn><button class="btn btn-default" ng-click=open2() type=button><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></form>'),e.put("{widgetsPath}/sonar/src/project-progress/view.html",'<style>\n  .daysLeft {\n    text-align: center;\n    max-height: 700px;\n  }\n\n  .info {\n    width: 65%;\n    margin-left: 17.5%;\n    margin-top: -80%;\n    margin-bottom: 35%;\n  }\n\n</style><div class="alert alert-info" ng-if=!vm.result.daysLeft>Please configure the widget</div><div ng-if=vm.result.daysLeft class=daysLeft><div ng-init="progress=vm.progressProperties"><round-progress max=progress.max current=progress.current color="{{ (current / max < 0.75) ? \'1B7DAA\' : \'1B7DAA\' }}" bgcolor=#F5F5F5 radius=360 stroke=67 semi=false rounded=true clockwise=true responsive=true duration=800 animation=easeInOutQuart animation-delay=0></round-progress></div><div class=info><h1 style=font-size:2em>{{config.projectname}}</h1><h1>{{vm.result.daysLeft}}/{{vm.result.maxDays}}</h1><p>Days left</p></div></div>'),e.put("{widgetsPath}/sonar/src/issues/edit.html",'<div class=form-group><form role=form><div class=form-group ng-controller="editController as vm"><label ng-if=!vm.url for=sample>API-URL</label> <input ng-if=!vm.url type=text class=form-control ng-model=config.apiUrl placeholder=Sonar-URL></div></form><form role=form><div class=form-group><label for=sample>Sorting</label><select class=form-control id=sample ng-model=config.sorting><option disabled>Select your option</option><option value=sortByEffort>Sorting by Effort</option><option value=sortBySeverity>Sorting by Severity</option></select></div></form></div>'),e.put("{widgetsPath}/sonar/src/issues/view.html",'<style type=text/css>\n    .content {\n        text-align: left;\n        color: black;\n    }\n\n    .tagContent {\n        color: grey;\n        text-align: right;\n    }\n\n    .sonarIssue {\n        background-color: #F0F0F0;\n        margin-bottom: 20px;\n        border: 1px solid black;\n        padding: 2px;\n        border-radius: 1px;\n    }\n\n    .heading {\n        color: #1874CD;\n        font-size: small;\n        margin-top: 1%;\n    }\n\n    .pre-scrollable.content {\n        max-height: 500px;\n        overflow:scroll;\n    }\n\n</style><div ng-if=!vm.projects class="alert alert-info">You don\'t have any issues.</div><div ng-if=vm.projects class="pre-scrollable content"><div class="content col-md-12"><div ng-repeat="project in vm.projects| orderBy: vm.sorting"><div class=heading><span ng-if=project.project class="glyphicon glyphicon-folder-open"></span> {{project.project}} <span ng-if=project.subProject class="glyphicon glyphicon-folder-open"></span> {{project.subProject}} <span ng-if=project.component class="glyphicon glyphicon-file"></span> {{project.component}}<br></div><div class=sonarIssue ng-repeat="issue in project.projectIssue track by $index"><table width=100%><tr><td width=80% colspan=4><b>{{issue.message}}</b></td><td ng-if=issue.line>L{{issue.line}}</td></tr></table><table width=100% style=min-width:450px><tr><td width=15%>{{issue.type| lowercase}}</td><td width=15%><span ng-if="issue.severity == \'MAJOR\'" class="glyphicon glyphicon-chevron-up"></span> <span ng-if="issue.severity == \'MINOR\'" class="glyphicon glyphicon-chevron-down"></span> <span ng-if="issue.severity == \'INFO\'" class="glyphicon glyphicon-arrow-down"></span> <span ng-if="issue.severity == \'CRITICAL\'" class="glyphicon glyphicon-arrow-up"></span> <span ng-if="issue.severity == \'BLOCKER\'" class="glyphicon glyphicon-exclamation-sign"></span> {{issue.severity| lowercase}}</td><td width=15%>{{issue.status| lowercase}}</td><td width=15% ng-if=issue.effort><span class="glyphicon glyphicon-time"></span> {{issue.effort}} effort</td><td class=tagContent><span ng-if=issue.tag class="glyphicon glyphicon-tags"></span> {{issue.tag}}</td></tr></table></div></div></div></div>'),e.put("{widgetsPath}/sonar/src/projectquality/edit.html",'<style type=text/css></style><form role=form><div class=form-group ng-controller="editController as vm"><label ng-if=!vm.url for=sample>API-URL</label><p ng-if=!vm.url><input class=form-control id=sample ng-model=config.apiUrl placeholder=Sonar-URL type=text ng-change=updateProjects()></p><label for=sample>Project</label> (*Required)<p><input id=project name=project type=text class=form-control autocomplete=off placeholder="Choose project" ng-model=config.project required uib-typeahead="project.name for project in vm.projects | limitTo:10 | filter:$viewValue"></p></div></form>'),e.put("{widgetsPath}/sonar/src/projectquality/view.html",'<style type=text/css>\n\n  div.sonar-content, div.sonar-content h1, div.sonar-content h5 a{\n    text-align: right;\n    color: white;\n  }\n\n  div.sonar-content h4{\n    color: white;\n    border: 2px solid white;\n    padding: 8px;\n    text-align: center;\n  }\n\n\n  .statusQualitygate, .codeCoverage, .blockerIssues, .technicalDept, .vulnerabilities {\n    border: 2px solid white;\n    margin-bottom: 2%;\n  }\n\n  .codeCoverage, .technicalDept, .blockerIssues, .vulnerabilities, div.sonar-content h4{\n    background-color: #1B7DAA;\n  }\n\n\n  .glyphiconStyle {\n    float: left;\n    font-size: 2.5em;\n    margin-top: 25px;\n  }\n\n  .error {\n    background-color: #E43B53;\n  }\n\n  .warning {\n    background-color: #DD7800;\n  }\n\n  .ok {\n    background-color: #B5CA00;\n  }\n\n  .unknown {\n    background-color: #777777;\n  }\n</style><div class="alert alert-info" ng-if=!vm.project>Please configure the widget</div><div class="sonar-content col-md-12" ng-if=vm.project><h4>{{vm.project}}</h4><div ng-switch on=vm.qualityGateStatus><div ng-switch-when=OK><div class="ok col-md-6 statusQualitygate"><span class="glyphicon glyphicon-ok-sign glyphiconStyle"></span><h1>OK</h1><h5><a href={{vm.url}}/quality_gates>Quality Gate</a></h5></div></div><div ng-switch-when=ERROR><div class="error col-md-6 statusQualitygate"><h2>Failed</h2><h5><a href={{vm.url}}/quality_gates>Quality Gate</a></h5></div></div><div ng-switch-when=WARNING><div class="warning col-md-6 statusQualitygate"><h2>Warning</h2><h5><a href={{vm.url}}/quality_gates>Quality Gate</a></h5></div></div><div ng-switch-default><div class="unknown col-md-6 statusQualitygate"><h2>unknown</h2><h5><a href={{vm.url}}/quality_gates>Quality Gate</a></h5></div></div></div><div class="col-md-6 vulnerabilities"><span class="glyphicon glyphicon glyphicon-lock glyphiconStyle"></span><h1>{{vm.vulnerabilities}}</h1><h5><a href="{{vm.url}}/project/issues?facetMode=effort&id={{vm.project}}&resolved=false&types=VULNERABILITY">Vulnerabilities</a></h5></div><div class="col-md-6 codeCoverage"><span class="glyphicon glyphicon-tasks glyphiconStyle"></span><h1>{{vm.coverage||"unknown"}}</h1><h5><a href="{{vm.url}}/component_measures?id={{vm.project}}&metric=coverage">Code Coverage</a></h5></div><div class="col-md-6 blockerIssues"><span class="glyphicon glyphicon-exclamation-sign glyphiconStyle"></span><h1>{{vm.blocker||"unknown"}}</h1><h5><a href="{{vm.url}}/component_measures?id={{vm.project}}&metric=bugs">Blocker Issues</a></h5></div><div class="col-md-12 technicalDept"><span class="glyphicon glyphicon-time glyphiconStyle"></span><h1>{{vm.technicalDept+" days" ||"unknown"}}</h1><h5><a href="{{vm.url}}/project/issues?facetMode=effort&id={{vm.project}}&resolved=false&types=CODE_SMELL">Technical Dept</a></h5></div><a href="https://docs.sonarqube.org/latest/user-guide/metric-definitions/" class=pull-right>about metrics</a></div>'),e.put("{widgetsPath}/sonar/src/version/view.html","<div><h2>{{vm.version}}</h2></div>")}]),u.controller("version",o),o.$inject=["data"],u.controller("qualityCtrl",r),r.$inject=["data"],u.controller("sonarIssueCtrl",n),n.$inject=["data","config"],u.controller("progress",a),a.$inject=["data","roundProgressConfig"],u.controller("compare",s),s.$inject=["data"],u.controller("editController",i),u.controller("sonarLineChart",l),l.$inject=["data","METRIC_NAMES"],u.controller("editController",i),i.$inject=["$scope","sonarApi","sonarEndpoint"],u.controller("sonarStatsCtrl",c),c.$inject=["data"],u.factory("sonarApi",p),p.$inject=["$http","$q","sonarEndpoint"]}(window);